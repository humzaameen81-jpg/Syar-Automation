"use strict";(self.webpackChunkautoma=self.webpackChunkautoma||[]).push([[6487],{66487:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var s=a(69986),l=a(45137),n=a(14011),o=a(59908),r=a(24334),i=a(32430),d=a(17219),u=a(33958),c=a(94330),y=a(9820),p=a(61233),g=a(52932),f=a(79039),m=a(80837);const h={key:0,class:"absolute bottom-0 left-0 z-10 flex h-6 w-full items-center px-2 text-xs text-gray-300"},v=(0,n._)("div",{class:"grow"},null,-1),k={__name:"SharedCodemirror",props:{lang:{type:String,default:"javascript"},modelValue:{type:String,default:""},readonly:{type:Boolean,default:!1},lineNumbers:{type:Boolean,default:!0},extensions:{type:[Object,Array],default:()=>[]},hideLang:Boolean},emits:["change","update:modelValue"],setup(e,{emit:t}){(0,s.useCssVars)((e=>({"3e6ce55a":(0,l.SU)(m.h).whiteSpace})));const a=e,k=t;let x=null;const b={json:c.AV,javascript:u.eJ,html:d.dy,css:i.iv},S=(0,l.iH)(null),w=g.tk.updateListener.of((e=>{if(e.docChanged){e.state.sliceDoc(0,20);const t=e.state.doc.toString();k("change",t),k("update:modelValue",t)}})),V=Array.isArray(a.extensions)?a.extensions:[a.extensions],C=y.yy.create({doc:a.modelValue,extensions:[p.vk,f.Xy,w,b[a.lang]?.(),y.yy.tabSize.of(2),g.$f.of([r.oc]),y.yy.readOnly.of(a.readonly),...V]});return(0,n.YP)((()=>a.modelValue),(e=>{e!==x.state.doc.toString()&&x.dispatch({changes:{from:0,to:x.state.doc.length,insert:e}})})),(0,n.bv)((()=>{x=new g.tk({state:C,parent:S.value})})),(0,n.Jd)((()=>{x?.destroy()})),(t,a)=>((0,n.wg)(),(0,n.iD)("div",{ref_key:"containerEl",ref:S,class:(0,o.normalizeClass)([{"hide-gutters":!e.lineNumbers},"codemirror relative rounded-lg"])},[e.hideLang?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",h,[v,(0,n._)("span",null,(0,o.toDisplayString)(e.lang),1)]))],2))}}}}]);